{"ast":null,"code":"import { ref } from \"vue\";\nexport default {\n  name: \"VeTable\",\n  inheritAttrs: false,\n  directives: {\n    delete: el => {\n      const length = el.children.length;\n\n      if (length <= 0) {\n        el.parentNode && el.parentNode.removeChild(el);\n      }\n    },\n    addClass: el => {\n      el.parentNode && el.parentNode.classList.add(\"ve_flex_col\");\n    }\n  },\n\n  setup() {\n    const elTable = ref(null);\n    const ve_rowIndex = ref(null);\n    const tableBox = ref(null);\n    /**\n     * @description:行点击事件\n     * @param {*}\n     * @return {*}\n     */\n\n    const rowClick = event => {\n      // return event.currentTarget.rowIndex;\n      return event;\n    };\n    /**\n     * @description:高亮当前行\n     * @param {*}\n     * @return {*}\n     */\n\n\n    const rowClassName = (rowIndex, ve_rowIndex) => {\n      if (rowIndex == ve_rowIndex) {\n        return \"ve_row_class_name\";\n      } else {\n        return \"\";\n      }\n    };\n    /**\n     * @description:高亮单元格\n     * @param {*}\n     * @return {*}\n     */\n\n\n    const cellClassName = (rowIndex, ve_rowIndex) => {\n      if (rowIndex == ve_rowIndex) {\n        return \"ve_cell_class_name\";\n      } else {\n        return \"\";\n      }\n    };\n\n    return {\n      elTable,\n      tableBox,\n      ve_rowIndex,\n      cellClassName,\n      rowClassName,\n      rowClick\n    };\n  }\n\n};","map":{"version":3,"mappings":"AA2DA,SAASA,GAAT,QAAoB,KAApB;AACA,eAAe;EACXC,IAAI,EAAE,SADK;EAEXC,YAAY,EAAE,KAFH;EAGXC,UAAU,EAAE;IACRC,MAAM,EAAGC,EAAD,IAAQ;MACZ,MAAMC,MAAK,GAAID,EAAE,CAACE,QAAH,CAAYD,MAA3B;;MACA,IAAIA,MAAK,IAAK,CAAd,EAAiB;QACbD,EAAE,CAACG,UAAH,IAAiBH,EAAE,CAACG,UAAH,CAAcC,WAAd,CAA0BJ,EAA1B,CAAjB;MACJ;IACH,CANO;IAORK,QAAQ,EAAGL,EAAD,IAAQ;MACdA,EAAE,CAACG,UAAH,IAAiBH,EAAE,CAACG,UAAH,CAAcG,SAAd,CAAwBC,GAAxB,CAA4B,aAA5B,CAAjB;IACH;EATO,CAHD;;EAcXC,KAAK,GAAG;IACJ,MAAMC,OAAM,GAAId,GAAG,CAAC,IAAD,CAAnB;IACA,MAAMe,WAAU,GAAIf,GAAG,CAAC,IAAD,CAAvB;IAEA,MAAMgB,QAAO,GAAIhB,GAAG,CAAC,IAAD,CAApB;IACA;;;;;;IAKA,MAAMiB,QAAO,GAAKC,KAAD,IAAW;MACxB;MACA,OAAOA,KAAP;IACH,CAHD;IAIA;;;;;;;IAKA,MAAMC,YAAW,GAAI,CAACC,QAAD,EAAWL,WAAX,KAA2B;MAC5C,IAAIK,QAAO,IAAKL,WAAhB,EAA6B;QACzB,OAAO,mBAAP;MACJ,CAFA,MAEO;QACH,OAAO,EAAP;MACJ;IACH,CAND;IAOA;;;;;;;IAKA,MAAMM,aAAY,GAAI,CAACD,QAAD,EAAWL,WAAX,KAA2B;MAC7C,IAAIK,QAAO,IAAKL,WAAhB,EAA6B;QACzB,OAAO,oBAAP;MACJ,CAFA,MAEO;QACH,OAAO,EAAP;MACJ;IACH,CAND;;IAQA,OAAO;MACHD,OADG;MAEHE,QAFG;MAIHD,WAJG;MAKHM,aALG;MAMHF,YANG;MAOHF;IAPG,CAAP;EASH;;AA9DU,CAAf","names":["ref","name","inheritAttrs","directives","delete","el","length","children","parentNode","removeChild","addClass","classList","add","setup","elTable","ve_rowIndex","tableBox","rowClick","event","rowClassName","rowIndex","cellClassName"],"sourceRoot":"","sources":["C:\\Users\\Administrator\\Desktop\\vue3-element-admin-dev\\src\\components\\veBaseComponents\\VeTable.vue"],"sourcesContent":["<!--\n * @Author: your name\n * @Date: 2021-08-11 11:18:05\n * @LastEditTime: 2022-01-20 11:37:11\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: \\vue3-element-admin\\src\\components\\VeTable.vue\n-->\n<template>\n    <div v-addClass class=\"ve_table\">\n        <!-- table工具条 -->\n        <el-row v-delete class=\"ve_header_row_class_name ve_p_10\">\n            <slot name=\"tool_bar\"></slot>\n        </el-row>\n        <div class=\"ve_table_page\">\n            <!-- 列表 -->\n            <div class=\"ve_table_content\" ref=\"tableBox\">\n                <el-table\n                    ref=\"elTable\"\n                    height=\"100%\"\n                    stripe\n                    border\n                    highlight-current-row\n                    @row-click=\"\n                        (row, column, event) => (ve_rowIndex = rowClick(event))\n                    \"\n                    :row-class-name=\"\n                        ({ rowIndex }) => rowClassName(rowIndex, ve_rowIndex)\n                    \"\n                    :cell-class-name=\"\n                        ({ rowIndex }) => cellClassName(rowIndex, ve_rowIndex)\n                    \"\n                    header-row-class-name=\"ve_header_row_class_name\"\n                    header-cell-class-name=\"ve_header_cell_class_name\"\n                    style=\"width: 100%\"\n                    v-bind=\"$attrs.table\"\n                >\n                    <slot></slot>\n                    <template #append><slot name=\"append\"></slot></template>\n                    <template #empty>\n                        <el-empty description=\"暂无数据\"></el-empty>\n                    </template>\n                </el-table>\n            </div>\n            <!-- 分页 -->\n            <el-pagination\n                background\n                layout=\"total, sizes, prev, pager, next, jumper\"\n                :page-sizes=\"[10, 20, 50, 100, 200, 500]\"\n                :hide-on-single-page=\"true\"\n                v-bind=\"$attrs.pagination\"\n            >\n                <slot name=\"pagination\"></slot>\n            </el-pagination>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nexport default {\n    name: \"VeTable\",\n    inheritAttrs: false,\n    directives: {\n        delete: (el) => {\n            const length = el.children.length;\n            if (length <= 0) {\n                el.parentNode && el.parentNode.removeChild(el);\n            }\n        },\n        addClass: (el) => {\n            el.parentNode && el.parentNode.classList.add(\"ve_flex_col\");\n        },\n    },\n    setup() {\n        const elTable = ref(null);\n        const ve_rowIndex = ref(null);\n\n        const tableBox = ref(null);\n        /**\n         * @description:行点击事件\n         * @param {*}\n         * @return {*}\n         */\n        const rowClick = (event) => {\n            // return event.currentTarget.rowIndex;\n            return event;\n        };\n        /**\n         * @description:高亮当前行\n         * @param {*}\n         * @return {*}\n         */\n        const rowClassName = (rowIndex, ve_rowIndex) => {\n            if (rowIndex == ve_rowIndex) {\n                return \"ve_row_class_name\";\n            } else {\n                return \"\";\n            }\n        };\n        /**\n         * @description:高亮单元格\n         * @param {*}\n         * @return {*}\n         */\n        const cellClassName = (rowIndex, ve_rowIndex) => {\n            if (rowIndex == ve_rowIndex) {\n                return \"ve_cell_class_name\";\n            } else {\n                return \"\";\n            }\n        };\n\n        return {\n            elTable,\n            tableBox,\n\n            ve_rowIndex,\n            cellClassName,\n            rowClassName,\n            rowClick,\n        };\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.ve_table {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    .ve_table_page {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        .ve_table_content {\n            flex: 1;\n        }\n    }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}