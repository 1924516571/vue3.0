{"ast":null,"code":"/*\r\n * @Author: your name\r\n * @Date: 2021-01-12 09:38:09\r\n * @LastEditTime: 2022-01-20 10:37:39\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\vue3-element-admin\\src\\utils\\index.js\r\n */\n\n/**\r\n * @description:æ ‘å½¢ç»“æ„è½¬ä¸€ç»´æ•°ç»„\r\n * @param {*} nodes\r\n * @return {*}\r\n */\nexport function jsonToArray(nodes) {\n  let pid = -1;\n\n  const toArray = nodes => {\n    let r = [];\n\n    if (Array.isArray(nodes)) {\n      for (let i = 0, l = nodes.length; i < l; i++) {\n        nodes[i].pid = pid;\n        r.push(nodes[i]); // å–æ¯é¡¹æ•°æ®æ”¾å…¥ä¸€ä¸ªæ–°æ•°ç»„\n\n        if (Array.isArray(nodes[i][\"children\"]) && nodes[i][\"children\"].length > 0) {\n          // è‹¥å­˜åœ¨childrenåˆ™é€’å½’è°ƒç”¨ï¼ŒæŠŠæ•°æ®æ‹¼æ¥åˆ°æ–°æ•°ç»„ä¸­ï¼Œå¹¶ä¸”åˆ é™¤è¯¥children\n          pid = nodes[i].id;\n          r = r.concat(toArray(nodes[i][\"children\"]));\n          delete nodes[i][\"children\"];\n        }\n      }\n    }\n\n    return r;\n  };\n\n  return toArray(nodes);\n}\n/**\r\n * @description:ä¸€ç»´æ•°ç»„è½¬æ ‘å½¢ç»“æ„\r\n * @param {*} treeArray\r\n * @return {*}\r\n */\n\nexport function arrayToJson(treeArray) {\n  var r = [];\n  var tmpMap = {};\n\n  for (var i = 0, l = treeArray.length; i < l; i++) {\n    //* ä»¥æ¯æ¡æ•°æ®çš„idä½œä¸ºobjçš„keyå€¼ï¼Œæ•°æ®ä½œä¸ºvalueå€¼å­˜å…¥åˆ°ä¸€ä¸ªä¸´æ—¶å¯¹è±¡é‡Œé¢\n    tmpMap[treeArray[i][\"id\"]] = treeArray[i];\n  }\n\n  for (i = 0, l = treeArray.length; i < l; i++) {\n    var key = tmpMap[treeArray[i][\"pid\"]]; //*å¾ªç¯æ¯ä¸€æ¡æ•°æ®çš„pidï¼Œå‡å¦‚è¿™ä¸ªä¸´æ—¶å¯¹è±¡æœ‰è¿™ä¸ªkeyå€¼ï¼Œå°±ä»£è¡¨è¿™ä¸ªkeyå¯¹åº”çš„æ•°æ®æœ‰childrenï¼Œéœ€è¦Pushè¿›å»\n    //*å¦‚æœè¿™ä¸€é¡¹æ•°æ®å±äºå“ªä¸ªæ•°æ®çš„å­çº§\n\n    if (key) {\n      // *å¦‚æœè¿™ä¸ªæ•°æ®æ²¡æœ‰children\n      if (!key[\"children\"]) {\n        key[\"children\"] = [];\n        key[\"children\"].push(treeArray[i]); //* å¦‚æœè¿™ä¸ªæ•°æ®æœ‰children\n      } else {\n        key[\"children\"].push(treeArray[i]);\n      }\n    } else {\n      //*å¦‚æœæ²¡æœ‰è¿™ä¸ªKeyå€¼ï¼Œå°±ä»£è¡¨æ‰¾ä¸åˆ°å±äºå“ªä¸ªæ•°æ®ï¼Œé‚£å°±ä»£è¡¨æ²¡æœ‰çˆ¶çº§,ç›´æ¥æ”¾åœ¨æœ€å¤–å±‚\n      r.push(treeArray[i]);\n    }\n  }\n\n  return r;\n}\n/**\r\n * @description è·å–èŠ‚ç‚¹çš„æ‰€æœ‰çˆ¶èŠ‚ç‚¹\r\n * @param {*} tree\r\n * @param {*} func\r\n * @param {*} path\r\n * @return {*}\r\n */\n\nexport const treeFindPath = (tree, func, name = \"id\", path = []) => {\n  if (!tree) return [];\n\n  for (const data of tree) {\n    //* è¿™é‡ŒæŒ‰ç…§ä½ çš„éœ€æ±‚æ¥å­˜æ”¾æœ€åè¿”å›çš„å†…å®¹å§\n    path.push(data[name]);\n    if (func(data)) return path;\n\n    if (data.children) {\n      const findChildren = treeFindPath(data.children, func, name, path);\n      if (findChildren.length) return findChildren;\n    }\n\n    path.pop();\n  }\n\n  return [];\n};\n/**\r\n * @description: æ‹†ç®±å‡½æ•°,è§£å†³tooltipæ˜¾ç¤ºé—®é¢˜\r\n * @param {*} obj\r\n * @return {*}\r\n */\n\nexport const unwarp = obj => obj && (obj.__v_raw || obj.valueOf() || obj);\n/**\r\n * @description:è·å–æ‰€æœ‰çš„el-svg-iconç»„ä»¶å\r\n * @param {*}\r\n * @return {*}\r\n */\n\nexport const icons = () => {\n  const components = require(\"@element-plus/icons-vue\");\n\n  console.log(\"ğŸš€ ~ file: index.js ~ line 107 ~ icons ~ e\", components);\n  const names = [];\n\n  for (const key in components) {\n    names.push(components[key].name);\n  }\n\n  return names;\n};","map":null,"metadata":{},"sourceType":"module"}