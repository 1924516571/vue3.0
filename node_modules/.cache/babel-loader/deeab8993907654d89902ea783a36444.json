{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, resolveDynamicComponent as _resolveDynamicComponent, createElementVNode as _createElementVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"ve_container\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" 重置 \");\n\nconst _hoisted_3 = {\n  style: {\n    \"vertical-align\": \"middle\"\n  }\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = {\n  key: 0,\n  style: {\n    \"font-weight\": \"bold\"\n  }\n};\nconst _hoisted_6 = {\n  key: 1\n};\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = {\n  key: 1\n};\nconst _hoisted_9 = {\n  key: 1\n};\nconst _hoisted_10 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n\n  const _component_el_link = _resolveComponent(\"el-link\");\n\n  const _component_ve_table = _resolveComponent(\"ve-table\");\n\n  const _directive_permission = _resolveDirective(\"permission\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 搜索 \"), _createVNode(_component_el_form, {\n    ref: \"queryForm\",\n    inline: true,\n    model: $setup.params\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"名称\",\n      prop: \"name\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        clearable: \"\",\n        modelValue: $setup.name,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.name = $event),\n        placeholder: \"名称\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: _cache[1] || (_cache[1] = $event => $setup.onSubmit($setup.params, $setup.getDataList))\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.menus.search.name), 1\n        /* TEXT */\n        )]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_button, {\n        onClick: _cache[2] || (_cache[2] = $event => $setup.resetForm($setup.queryForm, $setup.params, $setup.getDataList))\n      }, {\n        default: _withCtx(() => [_hoisted_2]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"model\"]), _createCommentVNode(\" 列表 \"), _createVNode(_component_ve_table, {\n    table: {\n      data: $setup.tableData,\n      rowKey: 'id',\n      defaultExpandAll: true\n    },\n    pagination: {\n      hideOnSinglePage: true,\n      onSizeChange: val => $setup.handleSizeChange(val, $setup.params, $setup.getDataList),\n      onCurrentChange: val => $setup.handleCurrentChange(val, $setup.params, $setup.getDataList),\n      currentPage: $setup.page,\n      pageSize: $setup.limit,\n      total: $setup.total\n    }\n  }, {\n    tool_bar: _withCtx(() => [_withDirectives((_openBlock(), _createBlock(_component_el_button, {\n      size: \"small\",\n      type: \"primary\",\n      onClick: _cache[3] || (_cache[3] = $event => $setup.handleEdit(_ctx.menus.add.name))\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.menus.add.name), 1\n      /* TEXT */\n      )]),\n      _: 1\n      /* STABLE */\n\n    })), [[_directive_permission, ['add']]])]),\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"name\",\n      label: \"名称\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"icon\",\n      label: \"图标\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [row.type !== 2 ? (_openBlock(), _createElementBlock(_Fragment, {\n        key: 0\n      }, [_createVNode(_component_el_icon, {\n        style: {\n          \"margin-right\": \"6px\",\n          \"vertical-align\": \"middle\"\n        }\n      }, {\n        default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(row.icon)))]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1024\n      /* DYNAMIC_SLOTS */\n      ), _createElementVNode(\"span\", _hoisted_3, _toDisplayString(row.icon), 1\n      /* TEXT */\n      )], 64\n      /* STABLE_FRAGMENT */\n      )) : (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"/\"))]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_table_column, {\n      prop: \"type\",\n      label: \"类型\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [_createVNode(_component_el_tag, {\n        type: row.type == 0 ? '' : row.type == 1 ? 'success' : 'warning'\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(row.type == 0 ? \"目录\" : row.type == 1 ? \"菜单\" : \"按钮\"), 1\n        /* TEXT */\n        )]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"type\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_table_column, {\n      prop: \"sort\",\n      label: \"排序\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [row.type !== 2 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString(row.sort), 1\n      /* TEXT */\n      )) : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"/\"))]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_table_column, {\n      prop: \"iframe\",\n      label: \"Iframe\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [row.type == 1 ? (_openBlock(), _createBlock(_component_el_tag, {\n        key: 0,\n        type: row.iframe == 0 ? 'danger' : '',\n        effect: \"dark\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(row.iframe == 0 ? \"否\" : \"是\"), 1\n        /* TEXT */\n        )]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"type\"])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_7, \"/\"))]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_table_column, {\n      prop: \"url\",\n      label: \"URL/标识\",\n      \"show-overflow-tooltip\": \"\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [row.type == 1 ? (_openBlock(), _createElementBlock(_Fragment, {\n        key: 0\n      }, [$setup.isURL(row.url) ? (_openBlock(), _createBlock(_component_el_link, {\n        key: 0,\n        type: \"primary\",\n        href: row.url,\n        target: \"_blank\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(row.url), 1\n        /* TEXT */\n        )]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"href\"])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _toDisplayString(row.url), 1\n      /* TEXT */\n      ))], 64\n      /* STABLE_FRAGMENT */\n      )) : row.type == 2 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, _toDisplayString(row.menu), 1\n      /* TEXT */\n      )) : (_openBlock(), _createElementBlock(\"span\", _hoisted_10, \"/\"))]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_table_column, {\n      fixed: \"right\",\n      label: \"操作\",\n      width: \"240\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [_withDirectives((_openBlock(), _createBlock(_component_el_button, {\n        onClick: _withModifiers($event => $setup.handleEdit(_ctx.menus.edit.name, row), [\"prevent\"]),\n        type: \"primary\",\n        size: \"small\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.menus.edit.name), 1\n        /* TEXT */\n        )]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"onClick\"])), [[_directive_permission, ['edit']]]), _withDirectives((_openBlock(), _createBlock(_component_el_button, {\n        onClick: _withModifiers($event => $setup.handleDel(row.id), [\"prevent\"]),\n        type: \"danger\",\n        size: \"small\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.menus.del.name), 1\n        /* TEXT */\n        )]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"onClick\"])), [[_directive_permission, ['del']]]), row.type == 0 ? _withDirectives((_openBlock(), _createBlock(_component_el_button, {\n        key: 0,\n        onClick: _withModifiers($event => $setup.handleEdit(_ctx.menus.addChild.name, row), [\"prevent\"]),\n        type: \"warning\",\n        size: \"small\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.menus.addChild.name), 1\n        /* TEXT */\n        )]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"onClick\"])), [[_directive_permission, ['addChild']]]) : _createCommentVNode(\"v-if\", true), row.type == 1 && row.iframe == 0 ? _withDirectives((_openBlock(), _createBlock(_component_el_button, {\n        key: 1,\n        onClick: _withModifiers($event => $setup.handleEdit(_ctx.menus.addBtn.name, row), [\"prevent\"]),\n        type: \"success\",\n        size: \"small\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.menus.addBtn.name), 1\n        /* TEXT */\n        )]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"onClick\"])), [[_directive_permission, ['addBtn']]]) : _createCommentVNode(\"v-if\", true)]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"table\", \"pagination\"]), _createCommentVNode(\" 编辑组件 \"), $setup.showDialog ? (_openBlock(), _createBlock($setup[\"MenuEdit\"], {\n    key: 0,\n    menuList: $setup.tableData,\n    rowData: $setup.rowData,\n    title: $setup.dialogTitle,\n    showDialog: $setup.showDialog,\n    onCloseDialog: _cache[4] || (_cache[4] = $event => $setup.handelDialog($event))\n  }, null, 8\n  /* PROPS */\n  , [\"menuList\", \"rowData\", \"title\", \"showDialog\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":"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","names":["class","style","_createElementBlock","_createCommentVNode","_createVNode","_component_el_form","ref","inline","model","$setup","_component_el_form_item","label","prop","_component_el_input","clearable","$event","placeholder","_component_el_button","type","onClick","_ctx","search","name","_component_ve_table","table","pagination","val","tool_bar","_createBlock","size","add","_component_el_table_column","row","_Fragment","key","_component_el_icon","_resolveDynamicComponent","icon","_createElementVNode","_toDisplayString","_hoisted_4","_component_el_tag","sort","_hoisted_6","iframe","effect","_hoisted_7","url","_component_el_link","href","target","_hoisted_8","_hoisted_9","menu","_hoisted_10","fixed","width","default","edit","id","del","addChild","addBtn","menuList","rowData","title","showDialog","onCloseDialog"],"sourceRoot":"","sources":["C:\\Users\\Administrator\\Desktop\\vue3-element-admin-dev\\src\\views\\layoutpages\\system\\Menus.vue"],"sourcesContent":["<!--\r\n * @Author: your name\r\n * @Date: 2021-02-05 14:52:13\r\n * @LastEditTime: 2022-01-20 13:50:54\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\vue3-element-admin\\src\\views\\layoutpages\\system\\Menus.vue\r\n-->\r\n<template>\r\n    <div class=\"ve_container\">\r\n        <!-- 搜索 -->\r\n        <el-form ref=\"queryForm\" :inline=\"true\" :model=\"params\">\r\n            <el-form-item label=\"名称\" prop=\"name\">\r\n                <el-input\r\n                    clearable\r\n                    v-model=\"name\"\r\n                    placeholder=\"名称\"\r\n                ></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button\r\n                    type=\"primary\"\r\n                    @click=\"onSubmit(params, getDataList)\"\r\n                >\r\n                    {{ menus.search.name }}\r\n                </el-button>\r\n                <el-button @click=\"resetForm(queryForm, params, getDataList)\">\r\n                    重置\r\n                </el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <!-- 列表 -->\r\n        <ve-table\r\n            :table=\"{\r\n                data: tableData,\r\n                rowKey: 'id',\r\n                defaultExpandAll: true,\r\n            }\"\r\n            :pagination=\"{\r\n                hideOnSinglePage: true,\r\n                onSizeChange: (val) =>\r\n                    handleSizeChange(val, params, getDataList),\r\n                onCurrentChange: (val) =>\r\n                    handleCurrentChange(val, params, getDataList),\r\n                currentPage: page,\r\n                pageSize: limit,\r\n                total: total,\r\n            }\"\r\n        >\r\n            <template #tool_bar>\r\n                <el-button\r\n                    v-permission=\"['add']\"\r\n                    size=\"small\"\r\n                    type=\"primary\"\r\n                    @click=\"handleEdit(menus.add.name)\"\r\n                >\r\n                    {{ menus.add.name }}\r\n                </el-button>\r\n            </template>\r\n            <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n            <el-table-column prop=\"icon\" label=\"图标\">\r\n                <template v-slot=\"{ row }\">\r\n                    <template v-if=\"row.type !== 2\">\r\n                        <el-icon\r\n                            style=\"margin-right: 6px; vertical-align: middle\"\r\n                        >\r\n                            <component :is=\"row.icon\" />\r\n                        </el-icon>\r\n                        <span style=\"vertical-align: middle\">\r\n                            {{ row.icon }}\r\n                        </span>\r\n                    </template>\r\n                    <span v-else>/</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"type\" label=\"类型\">\r\n                <template v-slot=\"{ row }\">\r\n                    <el-tag\r\n                        :type=\"\r\n                            row.type == 0\r\n                                ? ''\r\n                                : row.type == 1\r\n                                ? 'success'\r\n                                : 'warning'\r\n                        \"\r\n                    >\r\n                        {{\r\n                            row.type == 0\r\n                                ? \"目录\"\r\n                                : row.type == 1\r\n                                ? \"菜单\"\r\n                                : \"按钮\"\r\n                        }}\r\n                    </el-tag>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"sort\" label=\"排序\">\r\n                <template v-slot=\"{ row }\">\r\n                    <span v-if=\"row.type !== 2\" style=\"font-weight: bold\">\r\n                        {{ row.sort }}\r\n                    </span>\r\n                    <span v-else>/</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"iframe\" label=\"Iframe\">\r\n                <template v-slot=\"{ row }\">\r\n                    <el-tag\r\n                        v-if=\"row.type == 1\"\r\n                        :type=\"row.iframe == 0 ? 'danger' : ''\"\r\n                        effect=\"dark\"\r\n                    >\r\n                        {{ row.iframe == 0 ? \"否\" : \"是\" }}\r\n                    </el-tag>\r\n                    <span v-else>/</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"url\" label=\"URL/标识\" show-overflow-tooltip>\r\n                <template v-slot=\"{ row }\">\r\n                    <template v-if=\"row.type == 1\">\r\n                        <el-link\r\n                            v-if=\"isURL(row.url)\"\r\n                            type=\"primary\"\r\n                            :href=\"row.url\"\r\n                            target=\"_blank\"\r\n                        >\r\n                            {{ row.url }}\r\n                        </el-link>\r\n                        <span v-else>{{ row.url }}</span>\r\n                    </template>\r\n                    <span v-else-if=\"row.type == 2\">{{ row.menu }}</span>\r\n                    <span v-else>/</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"240\">\r\n                <template v-slot:default=\"{ row }\">\r\n                    <el-button\r\n                        v-permission=\"['edit']\"\r\n                        @click.prevent=\"handleEdit(menus.edit.name, row)\"\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                    >\r\n                        {{ menus.edit.name }}\r\n                    </el-button>\r\n                    <el-button\r\n                        v-permission=\"['del']\"\r\n                        @click.prevent=\"handleDel(row.id)\"\r\n                        type=\"danger\"\r\n                        size=\"small\"\r\n                    >\r\n                        {{ menus.del.name }}\r\n                    </el-button>\r\n                    <el-button\r\n                        v-permission=\"['addChild']\"\r\n                        v-if=\"row.type == 0\"\r\n                        @click.prevent=\"handleEdit(menus.addChild.name, row)\"\r\n                        type=\"warning\"\r\n                        size=\"small\"\r\n                    >\r\n                        {{ menus.addChild.name }}\r\n                    </el-button>\r\n                    <el-button\r\n                        v-permission=\"['addBtn']\"\r\n                        v-if=\"row.type == 1 && row.iframe == 0\"\r\n                        @click.prevent=\"handleEdit(menus.addBtn.name, row)\"\r\n                        type=\"success\"\r\n                        size=\"small\"\r\n                    >\r\n                        {{ menus.addBtn.name }}\r\n                    </el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </ve-table>\r\n\r\n        <!-- 编辑组件 -->\r\n        <menu-edit\r\n            v-if=\"showDialog\"\r\n            :menuList=\"tableData\"\r\n            :rowData=\"rowData\"\r\n            :title=\"dialogTitle\"\r\n            :showDialog=\"showDialog\"\r\n            @closeDialog=\"handelDialog($event)\"\r\n        />\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data: () => ({\r\n        description: \"菜单查询与设置\",\r\n        menus: {\r\n            search: { name: \"查询\" },\r\n            add: { name: \"添加\" },\r\n            edit: { name: \"编辑\" },\r\n            del: { name: \"删除\" },\r\n            addChild: { name: \"添加子级\" },\r\n            addBtn: { name: \"添加按钮\" },\r\n        },\r\n    }),\r\n};\r\n</script>\r\n\r\n<script setup>\r\nimport { isURL } from \"@/utils/validate\";\r\nimport MenuEdit from \"./components/MenuEdit\";\r\nimport { reactive, toRefs, ref, onMounted, getCurrentInstance } from \"vue\";\r\n//?导入公共查询方法\r\nimport {\r\n    onSubmit,\r\n    resetForm,\r\n    handleSizeChange,\r\n    handleCurrentChange,\r\n} from \"@/views/layoutpages/common\";\r\n\r\nconst { proxy } = getCurrentInstance();\r\n\r\nconst queryForm = ref(null);\r\nconst dialogTitle = ref(\"\");\r\nconst showDialog = ref(false);\r\nconst rowData = ref(null);\r\nconst tableData = ref([]);\r\nconst params = reactive({\r\n    name: \"\",\r\n    limit: 10,\r\n    page: 1,\r\n    total: 0,\r\n});\r\nconst { name, limit, page, total } = toRefs(params);\r\n\r\n/**\r\n * @description:添加or编辑事件\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst handleEdit = (title, row = null) => {\r\n    showDialog.value = true;\r\n    dialogTitle.value = title;\r\n    rowData.value = row;\r\n};\r\n/**\r\n * @description: dialog事件\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst handelDialog = (e) => {\r\n    showDialog.value = e;\r\n    getDataList();\r\n};\r\n/**删除行数据\r\n * @description:\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst handleDel = (id) => {\r\n    proxy\r\n        .$confirm(\"此操作将永久删除该数据, 是否继续?\", \"提示\", {\r\n            confirmButtonText: \"确定\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"error\",\r\n        })\r\n        .then(async () => {\r\n            const { code } = await VE_API.system.menuDel({ id });\r\n            if (code == \"00\") {\r\n                getDataList();\r\n            }\r\n        })\r\n        .catch(() => {\r\n            proxy.$message({\r\n                type: \"info\",\r\n                message: \"已取消删除\",\r\n            });\r\n        });\r\n};\r\n/**\r\n * @description: 获取列表数据\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst getDataList = async () => {\r\n    const { code, data } = await VE_API.system.menuList(params);\r\n    if (code == \"00\") {\r\n        const list = XE.mapTree(\r\n            XE.toArrayTree(data, {\r\n                sortKey: \"sort\",\r\n            }),\r\n            (item) => {\r\n                if (item.children && item.children.length <= 0) {\r\n                    delete item.children;\r\n                }\r\n                return item;\r\n            }\r\n        );\r\n        tableData.value = list;\r\n    }\r\n};\r\n\r\nonMounted(async () => {\r\n    await getDataList();\r\n    // maxHeight(pagination, queryForm, toolBar, ve_max_height);\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}