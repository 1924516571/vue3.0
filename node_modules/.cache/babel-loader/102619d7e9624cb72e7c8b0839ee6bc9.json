{"ast":null,"code":"/*\n * @Author: your name\n * @Date: 2021-12-02 16:55:35\n * @LastEditTime: 2021-12-02 16:58:05\n * @LastEditors: Please set LastEditors\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n * @FilePath: \\vue3-element-admin\\src\\store\\modules\\app\\index.js\n */\nimport { TOGGLE_SLIDER, SET_TOKEN, SET_UNAME, SET_MENU_LIST, SET_PERMISSION_LIST } from \"./type.js\";\nexport default {\n  namespaced: true,\n  state: {\n    slider: {\n      opened: JSON.parse(sessionStorage.getItem(\"opened\"))\n    },\n    token: sessionStorage.getItem(\"token\") || \"\",\n    menuList: null,\n    permissionList: [],\n    uname: sessionStorage.getItem(\"uname\") || \"\"\n  },\n  mutations: {\n    [TOGGLE_SLIDER](state) {\n      state.slider.opened = !state.slider.opened;\n      sessionStorage.setItem(\"opened\", JSON.stringify(state.slider.opened));\n    },\n\n    [SET_TOKEN](state, token) {\n      state.token = token;\n      sessionStorage.setItem(\"token\", state.token);\n    },\n\n    [SET_UNAME](state, uname) {\n      state.uname = uname;\n      sessionStorage.setItem(\"uname\", state.uname);\n    },\n\n    [SET_MENU_LIST](state, menuList) {\n      state.menuList = menuList;\n    },\n\n    [SET_PERMISSION_LIST](state, permissionList) {\n      state.permissionList = permissionList;\n    }\n\n  },\n  actions: {\n    [TOGGLE_SLIDER]({\n      commit\n    }) {\n      commit(TOGGLE_SLIDER);\n    },\n\n    [SET_TOKEN]({\n      commit\n    }, token) {\n      commit(SET_TOKEN, token);\n    },\n\n    [SET_UNAME]({\n      commit\n    }, uname) {\n      commit(SET_UNAME, uname);\n    },\n\n    [SET_MENU_LIST]({\n      commit\n    }, menuList) {\n      commit(SET_MENU_LIST, menuList);\n    },\n\n    [SET_PERMISSION_LIST]({\n      commit\n    }, menuList) {\n      let allMenus = XE.filterTree(menuList, item => item.type == 1);\n      let permissionList = [];\n      allMenus.forEach(item => {\n        if (item.children && item.children.length > 0) {\n          item.children.forEach(menu => {\n            permissionList.push(`${item.url}/${item.id}/${menu.menu}`);\n          });\n        }\n      });\n      commit(SET_PERMISSION_LIST, permissionList);\n    }\n\n  }\n};","map":{"version":3,"names":["TOGGLE_SLIDER","SET_TOKEN","SET_UNAME","SET_MENU_LIST","SET_PERMISSION_LIST","namespaced","state","slider","opened","JSON","parse","sessionStorage","getItem","token","menuList","permissionList","uname","mutations","setItem","stringify","actions","commit","allMenus","XE","filterTree","item","type","forEach","children","length","menu","push","url","id"],"sources":["C:/Users/Administrator/Desktop/vue3-element-admin-dev/src/store/modules/app/index.js"],"sourcesContent":["/*\n * @Author: your name\n * @Date: 2021-12-02 16:55:35\n * @LastEditTime: 2021-12-02 16:58:05\n * @LastEditors: Please set LastEditors\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n * @FilePath: \\vue3-element-admin\\src\\store\\modules\\app\\index.js\n */\nimport {\n    TOGGLE_SLIDER,\n    SET_TOKEN,\n    SET_UNAME,\n    SET_MENU_LIST,\n    SET_PERMISSION_LIST,\n} from \"./type.js\";\nexport default {\n    namespaced: true,\n    state: {\n        slider: {\n            opened: JSON.parse(sessionStorage.getItem(\"opened\")),\n        },\n        token: sessionStorage.getItem(\"token\") || \"\",\n        menuList: null,\n        permissionList: [],\n        uname: sessionStorage.getItem(\"uname\") || \"\",\n    },\n    mutations: {\n        [TOGGLE_SLIDER](state) {\n            state.slider.opened = !state.slider.opened;\n            sessionStorage.setItem(\n                \"opened\",\n                JSON.stringify(state.slider.opened)\n            );\n        },\n        [SET_TOKEN](state, token) {\n            state.token = token;\n            sessionStorage.setItem(\"token\", state.token);\n        },\n        [SET_UNAME](state, uname) {\n            state.uname = uname;\n            sessionStorage.setItem(\"uname\", state.uname);\n        },\n        [SET_MENU_LIST](state, menuList) {\n            state.menuList = menuList;\n        },\n        [SET_PERMISSION_LIST](state, permissionList) {\n            state.permissionList = permissionList;\n        },\n    },\n    actions: {\n        [TOGGLE_SLIDER]({ commit }) {\n            commit(TOGGLE_SLIDER);\n        },\n        [SET_TOKEN]({ commit }, token) {\n            commit(SET_TOKEN, token);\n        },\n        [SET_UNAME]({ commit }, uname) {\n            commit(SET_UNAME, uname);\n        },\n        [SET_MENU_LIST]({ commit }, menuList) {\n            commit(SET_MENU_LIST, menuList);\n        },\n        [SET_PERMISSION_LIST]({ commit }, menuList) {\n            let allMenus = XE.filterTree(menuList, (item) => item.type == 1);\n            let permissionList = [];\n            allMenus.forEach((item) => {\n                if (item.children && item.children.length > 0) {\n                    item.children.forEach((menu) => {\n                        permissionList.push(\n                            `${item.url}/${item.id}/${menu.menu}`\n                        );\n                    });\n                }\n            });\n            commit(SET_PERMISSION_LIST, permissionList);\n        },\n    },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}