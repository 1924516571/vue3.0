{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" 目录 \");\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" 菜单 \");\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" 按钮 \");\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"否\");\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"是\");\n\nconst _hoisted_6 = {\n  style: {\n    \"margin\": \"0\"\n  }\n};\nconst _hoisted_7 = {\n  class: \"ve_select_option_slot\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  style: {\n    \"color\": \"red\"\n  }\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"取消\");\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"确定\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_radio_button = _resolveComponent(\"el-radio-button\");\n\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_cascader = _resolveComponent(\"el-cascader\");\n\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n\n  const _component_el_option = _resolveComponent(\"el-option\");\n\n  const _component_el_select = _resolveComponent(\"el-select\");\n\n  const _component_el_radio = _resolveComponent(\"el-radio\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n\n  return _openBlock(), _createBlock(_component_el_dialog, {\n    title: $setup.title,\n    \"append-to-body\": \"\",\n    \"destroy-on-close\": \"\",\n    \"model-value\": $props.showDialog,\n    onClose: _cache[14] || (_cache[14] = $event => $setup.closeDialog())\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"span\", null, [_createVNode(_component_el_button, {\n      onClick: _cache[12] || (_cache[12] = $event => $setup.closeDialog())\n    }, {\n      default: _withCtx(() => [_hoisted_9]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[13] || (_cache[13] = $event => $setup.onSubmit())\n    }, {\n      default: _withCtx(() => [_hoisted_10]),\n      _: 1\n      /* STABLE */\n\n    })])]),\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      ref: \"formRef\",\n      model: $setup.form,\n      \"label-width\": \"80px\",\n      rules: $setup.rules,\n      \"validate-on-rule-change\": false,\n      inline: false\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"类型\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_radio_group, {\n          modelValue: $setup.type,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.type = $event),\n          onChange: $setup.changeType\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_radio_button, {\n            disabled: $setup.typeItemDisabled(0),\n            label: 0\n          }, {\n            default: _withCtx(() => [_hoisted_1]),\n            _: 1\n            /* STABLE */\n\n          }, 8\n          /* PROPS */\n          , [\"disabled\"]), _createVNode(_component_el_radio_button, {\n            disabled: $setup.typeItemDisabled(1),\n            label: 1\n          }, {\n            default: _withCtx(() => [_hoisted_2]),\n            _: 1\n            /* STABLE */\n\n          }, 8\n          /* PROPS */\n          , [\"disabled\"]), _createVNode(_component_el_radio_button, {\n            disabled: $setup.typeItemDisabled(2),\n            label: 2\n          }, {\n            default: _withCtx(() => [_hoisted_3]),\n            _: 1\n            /* STABLE */\n\n          }, 8\n          /* PROPS */\n          , [\"disabled\"])]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        label: \"父级\",\n        prop: \"parentId\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_cascader, {\n          style: {\n            \"width\": \"100%\"\n          },\n          options: $setup.menuList,\n          modelValue: $setup.parentId,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.parentId = $event),\n          clearable: \"\",\n          filterable: \"\",\n          props: {\n            expandTrigger: 'hover',\n            emitPath: false,\n            checkStrictly: true,\n            value: 'id',\n            label: 'name',\n            disabled: $setup.type == 2 ? 'iframe' : 'type'\n          },\n          onChange: $setup.cascaderChange,\n          disabled: $setup.title != '添加'\n        }, null, 8\n        /* PROPS */\n        , [\"options\", \"modelValue\", \"props\", \"disabled\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _withDirectives(_createVNode(_component_el_form_item, {\n        label: \"排序\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input_number, {\n          modelValue: $setup.sort,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.sort = $event),\n          min: 0,\n          \"step-strictly\": \"\",\n          step: 1\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }, 512\n      /* NEED_PATCH */\n      ), [[_vShow, $setup.type != 2]]), _withDirectives(_createVNode(_component_el_form_item, {\n        label: \"名称\",\n        prop: \"name\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.name,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.name = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }, 512\n      /* NEED_PATCH */\n      ), [[_vShow, $setup.type != 2]]), _withDirectives(_createVNode(_component_el_form_item, {\n        label: \"图标\",\n        prop: \"icon\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          style: {\n            \"width\": \"100%\"\n          },\n          modelValue: $setup.icon,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.icon = $event),\n          placeholder: \"\",\n          clearable: \"\",\n          filterable: \"\",\n          onVisibleChange: $setup.handelOptionsChange,\n          \"popper-class\": \"ve_option_box\"\n        }, {\n          prefix: _withCtx(() => [$setup.type != 2 ? (_openBlock(), _createBlock(_component_el_icon, {\n            key: 0,\n            size: 20,\n            style: {\n              \"color\": \"#000\"\n            }\n          }, {\n            default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent($setup.icon)))]),\n            _: 1\n            /* STABLE */\n\n          })) : _createCommentVNode(\"v-if\", true)]),\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.ve_icons, item => {\n            return _openBlock(), _createBlock(_component_el_option, {\n              style: {\n                \"display\": \"inline-block\",\n                \"height\": \"auto\",\n                \"padding\": \"10px 11px 0px\"\n              },\n              key: item,\n              label: item,\n              value: item\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_icon, {\n                title: item,\n                size: 30\n              }, {\n                default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(item)))]),\n                _: 2\n                /* DYNAMIC */\n\n              }, 1032\n              /* PROPS, DYNAMIC_SLOTS */\n              , [\"title\"])]),\n              _: 2\n              /* DYNAMIC */\n\n            }, 1032\n            /* PROPS, DYNAMIC_SLOTS */\n            , [\"label\", \"value\"]);\n          }), 128\n          /* KEYED_FRAGMENT */\n          ))]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }, 512\n      /* NEED_PATCH */\n      ), [[_vShow, $setup.type != 2]]), _withDirectives(_createVNode(_component_el_form_item, {\n        label: \"iframe\",\n        onChange: _cache[6] || (_cache[6] = $event => $setup.changeIframe())\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_radio_group, {\n          modelValue: $setup.iframe,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.iframe = $event)\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_radio_button, {\n            label: 0\n          }, {\n            default: _withCtx(() => [_hoisted_4]),\n            _: 1\n            /* STABLE */\n\n          }), _createVNode(_component_el_radio_button, {\n            label: 1\n          }, {\n            default: _withCtx(() => [_hoisted_5]),\n            _: 1\n            /* STABLE */\n\n          })]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }, 512\n      /* NEED_PATCH */\n      ), [[_vShow, $setup.type == 1]]), _withDirectives(_createVNode(_component_el_form_item, {\n        label: \"路径\",\n        prop: \"url\"\n      }, {\n        default: _withCtx(() => [$setup.iframe == 1 ? (_openBlock(), _createBlock(_component_el_input, {\n          key: 0,\n          modelValue: $setup.url,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.url = $event),\n          placeholder: \"请输入\",\n          clearable: \"\"\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])) : (_openBlock(), _createBlock(_component_el_select, {\n          key: 1,\n          style: {\n            \"width\": \"100%\"\n          },\n          modelValue: $setup.url,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.url = $event),\n          placeholder: \"\",\n          clearable: \"\"\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.files, item => {\n            return _openBlock(), _createBlock(_component_el_option, {\n              style: {\n                \"height\": \"auto\"\n              },\n              key: item.url,\n              label: item.url,\n              value: item.url\n            }, {\n              default: _withCtx(() => [_createElementVNode(\"p\", _hoisted_6, _toDisplayString(item.url), 1\n              /* TEXT */\n              ), _createElementVNode(\"span\", _hoisted_7, \" 描述 ：\" + _toDisplayString(item.description), 1\n              /* TEXT */\n              )]),\n              _: 2\n              /* DYNAMIC */\n\n            }, 1032\n            /* PROPS, DYNAMIC_SLOTS */\n            , [\"label\", \"value\"]);\n          }), 128\n          /* KEYED_FRAGMENT */\n          ))]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"modelValue\"]))]),\n        _: 1\n        /* STABLE */\n\n      }, 512\n      /* NEED_PATCH */\n      ), [[_vShow, $setup.type == 1]]), _withDirectives(_createVNode(_component_el_form_item, {\n        label: \"按钮\",\n        prop: \"menu\"\n      }, {\n        default: _withCtx(() => [$setup.menuOptions ? (_openBlock(), _createBlock(_component_el_radio_group, {\n          key: 0,\n          modelValue: $setup.menu,\n          \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.menu = $event),\n          onChange: _cache[10] || (_cache[10] = $event => $setup.changeMenu())\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.menuOptions, (item, key) => {\n            return _openBlock(), _createBlock(_component_el_radio, {\n              key: key,\n              label: key,\n              disabled: $setup.menuDisabled(key)\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1\n              /* TEXT */\n              )]),\n              _: 2\n              /* DYNAMIC */\n\n            }, 1032\n            /* PROPS, DYNAMIC_SLOTS */\n            , [\"label\", \"disabled\"]);\n          }), 128\n          /* KEYED_FRAGMENT */\n          ))]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"modelValue\"])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_8, \"该菜单下没有按钮\"))]),\n        _: 1\n        /* STABLE */\n\n      }, 512\n      /* NEED_PATCH */\n      ), [[_vShow, $setup.type == 2]]), _withDirectives(_createVNode(_component_el_form_item, {\n        label: \"目标菜单\",\n        prop: \"toPath\",\n        rules: $setup.toPathRule\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_cascader, {\n          style: {\n            \"width\": \"100%\"\n          },\n          options: $setup.menuList,\n          modelValue: $setup.toPath,\n          \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $setup.toPath = $event),\n          clearable: \"\",\n          filterable: \"\",\n          props: {\n            expandTrigger: 'hover',\n            emitPath: false,\n            checkStrictly: true,\n            value: 'id',\n            label: 'name',\n            disabled: 'iframe'\n          }\n        }, null, 8\n        /* PROPS */\n        , [\"options\", \"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"rules\"]), [[_vShow, $setup.type == 2 && $setup.changeToPath]])]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"model\", \"rules\"])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"title\", \"model-value\"]);\n}","map":{"version":3,"mappings":"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","names":["style","class","_createBlock","_component_el_dialog","title","$setup","$props","onClose","footer","_createElementVNode","_createVNode","_component_el_button","onClick","type","_component_el_form","ref","model","rules","inline","_component_el_form_item","label","_component_el_radio_group","$event","onChange","_component_el_radio_button","disabled","prop","_component_el_cascader","options","clearable","filterable","props","_component_el_input_number","min","step","_component_el_input","_component_el_select","placeholder","onVisibleChange","prefix","_component_el_icon","size","_resolveDynamicComponent","_createElementBlock","_Fragment","_renderList","item","_component_el_option","key","value","url","_toDisplayString","description","_component_el_radio","name"],"sourceRoot":"","sources":["C:\\Users\\Administrator\\Desktop\\vue3-element-admin-dev\\src\\views\\layoutpages\\system\\components\\MenuEdit.vue"],"sourcesContent":["<!--\r\n * @Author: your name\r\n * @Date: 2021-02-09 15:24:23\r\n * @LastEditTime: 2022-04-28 18:17:48\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\vue3-element-admin\\src\\views\\layoutpages\\system\\components\\MenuEdit.vue\r\n-->\r\n<template>\r\n    <el-dialog\r\n        :title=\"title\"\r\n        append-to-body\r\n        destroy-on-close\r\n        :model-value=\"showDialog\"\r\n        @close=\"closeDialog()\"\r\n    >\r\n        <!-- <span>{{ rowData }}</span> -->\r\n        <!-- 表单内容 -->\r\n        <el-form\r\n            ref=\"formRef\"\r\n            :model=\"form\"\r\n            label-width=\"80px\"\r\n            :rules=\"rules\"\r\n            :validate-on-rule-change=\"false\"\r\n            :inline=\"false\"\r\n        >\r\n            <el-form-item label=\"类型\">\r\n                <el-radio-group v-model=\"type\" @change=\"changeType\">\r\n                    <el-radio-button :disabled=\"typeItemDisabled(0)\" :label=\"0\">\r\n                        目录\r\n                    </el-radio-button>\r\n                    <el-radio-button :disabled=\"typeItemDisabled(1)\" :label=\"1\">\r\n                        菜单\r\n                    </el-radio-button>\r\n                    <el-radio-button :disabled=\"typeItemDisabled(2)\" :label=\"2\">\r\n                        按钮\r\n                    </el-radio-button>\r\n                </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item label=\"父级\" prop=\"parentId\">\r\n                <el-cascader\r\n                    style=\"width: 100%\"\r\n                    :options=\"menuList\"\r\n                    v-model=\"parentId\"\r\n                    clearable\r\n                    filterable\r\n                    :props=\"{\r\n                        expandTrigger: 'hover',\r\n                        emitPath: false,\r\n                        checkStrictly: true,\r\n                        value: 'id',\r\n                        label: 'name',\r\n                        disabled: type == 2 ? 'iframe' : 'type',\r\n                    }\"\r\n                    @change=\"cascaderChange\"\r\n                    :disabled=\"title != '添加'\"\r\n                ></el-cascader>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"排序\" v-show=\"type != 2\">\r\n                <el-input-number\r\n                    v-model=\"sort\"\r\n                    :min=\"0\"\r\n                    step-strictly\r\n                    :step=\"1\"\r\n                ></el-input-number>\r\n            </el-form-item>\r\n            <el-form-item label=\"名称\" prop=\"name\" v-show=\"type != 2\">\r\n                <el-input v-model=\"name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"图标\" prop=\"icon\" v-show=\"type != 2\">\r\n                <el-select\r\n                    style=\"width: 100%\"\r\n                    v-model=\"icon\"\r\n                    placeholder=\"\"\r\n                    clearable\r\n                    filterable\r\n                    @visible-change=\"handelOptionsChange\"\r\n                    popper-class=\"ve_option_box\"\r\n                >\r\n                    <template v-slot:prefix>\r\n                        <el-icon\r\n                            :size=\"20\"\r\n                            style=\"color: #000\"\r\n                            v-if=\"type != 2\"\r\n                        >\r\n                            <component :is=\"icon\" />\r\n                        </el-icon>\r\n                    </template>\r\n                    <el-option\r\n                        style=\"\r\n                            display: inline-block;\r\n                            height: auto;\r\n                            padding: 10px 11px 0px;\r\n                        \"\r\n                        v-for=\"item in ve_icons\"\r\n                        :key=\"item\"\r\n                        :label=\"item\"\r\n                        :value=\"item\"\r\n                    >\r\n                        <el-icon :title=\"item\" :size=\"30\">\r\n                            <component :is=\"item\" />\r\n                        </el-icon>\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n\r\n            <el-form-item\r\n                label=\"iframe\"\r\n                v-show=\"type == 1\"\r\n                @change=\"changeIframe()\"\r\n            >\r\n                <el-radio-group v-model=\"iframe\">\r\n                    <el-radio-button :label=\"0\">否</el-radio-button>\r\n                    <el-radio-button :label=\"1\">是</el-radio-button>\r\n                </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item label=\"路径\" prop=\"url\" v-show=\"type == 1\">\r\n                <el-input\r\n                    v-if=\"iframe == 1\"\r\n                    v-model=\"url\"\r\n                    placeholder=\"请输入\"\r\n                    clearable\r\n                ></el-input>\r\n                <el-select\r\n                    v-else\r\n                    style=\"width: 100%\"\r\n                    v-model=\"url\"\r\n                    placeholder=\"\"\r\n                    clearable\r\n                >\r\n                    <el-option\r\n                        style=\"height: auto\"\r\n                        v-for=\"item in files\"\r\n                        :key=\"item.url\"\r\n                        :label=\"item.url\"\r\n                        :value=\"item.url\"\r\n                    >\r\n                        <p style=\"margin: 0\">{{ item.url }}</p>\r\n                        <span class=\"ve_select_option_slot\">\r\n                            描述 ：{{ item.description }}\r\n                        </span>\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"按钮\" prop=\"menu\" v-show=\"type == 2\">\r\n                <template v-if=\"menuOptions\">\r\n                    <el-radio-group v-model=\"menu\" @change=\"changeMenu()\">\r\n                        <el-radio\r\n                            v-for=\"(item, key) in menuOptions\"\r\n                            :key=\"key\"\r\n                            :label=\"key\"\r\n                            :disabled=\"menuDisabled(key)\"\r\n                        >\r\n                            {{ item.name }}\r\n                        </el-radio>\r\n                    </el-radio-group>\r\n                </template>\r\n                <span style=\"color: red\" v-else>该菜单下没有按钮</span>\r\n            </el-form-item>\r\n\r\n            <el-form-item\r\n                v-show=\"type == 2 && changeToPath\"\r\n                label=\"目标菜单\"\r\n                prop=\"toPath\"\r\n                :rules=\"toPathRule\"\r\n            >\r\n                <el-cascader\r\n                    style=\"width: 100%\"\r\n                    :options=\"menuList\"\r\n                    v-model=\"toPath\"\r\n                    clearable\r\n                    filterable\r\n                    :props=\"{\r\n                        expandTrigger: 'hover',\r\n                        emitPath: false,\r\n                        checkStrictly: true,\r\n                        value: 'id',\r\n                        label: 'name',\r\n                        disabled: 'iframe',\r\n                    }\"\r\n                ></el-cascader>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <template v-slot:footer>\r\n            <span>\r\n                <el-button @click=\"closeDialog()\">取消</el-button>\r\n                <el-button type=\"primary\" @click=\"onSubmit()\">确定</el-button>\r\n            </span>\r\n        </template>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { icons, treeFindPath } from \"@/utils\";\r\nimport { reactive, ref, toRefs, computed, nextTick, onMounted } from \"vue\";\r\n/**\r\n * @description: 获取文件路径\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst getfiles = () => {\r\n    const files = require.context(\"@/views/layoutpages\", true, /\\.vue$/);\r\n    return files\r\n        .keys()\r\n        .map((key) => {\r\n            return {\r\n                url: key.replace(/^(\\.\\/)|(\\.vue)/g, \"\"),\r\n                description:\r\n                    files(key).default.data &&\r\n                    (files(key).default.data().description || \"无\"),\r\n                menus:\r\n                    files(key).default.data &&\r\n                    (files(key).default.data().menus || []),\r\n            };\r\n        })\r\n        .filter((key) => {\r\n            return !key.url.includes(\"/components/\");\r\n        });\r\n};\r\n// import { useStore } from \"vuex\";\r\nconst props = defineProps({\r\n    showDialog: {\r\n        type: Boolean,\r\n        default: true,\r\n    },\r\n    title: {\r\n        type: String,\r\n        default: \"添加\",\r\n    },\r\n    rowData: {\r\n        type: Object,\r\n        default: null,\r\n    },\r\n    menuList: {\r\n        type: Array,\r\n        default: null,\r\n    },\r\n});\r\nconst emit = defineEmits([\"closeDialog\"]);\r\n\r\nconst { title, rowData, menuList } = toRefs(props);\r\nconst closeDialog = () => {\r\n    emit(\"closeDialog\", false);\r\n};\r\nconst ve_icons = ref([]);\r\nconst formRef = ref(null);\r\nconst files = getfiles();\r\nconst form = reactive({\r\n    name: \"\",\r\n    type: 0,\r\n    parentId: -1,\r\n    menu: \"\",\r\n    url: \"\",\r\n    icon: \"Menu\",\r\n    iframe: 1,\r\n    sort: 1,\r\n    toPath: \"\",\r\n});\r\nconst { name, type, parentId, menu, url, icon, iframe, sort, toPath } =\r\n    toRefs(form);\r\n/**\r\n * @description: 字段重置\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst resetForm = () => {\r\n    name.value = \"\";\r\n    menu.value = \"\";\r\n    url.value = \"\";\r\n    icon.value = \"Menu\";\r\n    iframe.value = 1;\r\n    sort.value = 1;\r\n    toPath.value = \"\";\r\n};\r\n\r\n/**表单验证规则\r\n * @description:\r\n * @param {*} computed\r\n * @return {*}\r\n */\r\nconst rules = computed(() => ({\r\n    parentId: [\r\n        {\r\n            required: type.value == 2 ? true : false,\r\n            message: \"请选择父级菜单\",\r\n            trigger: \"change\",\r\n        },\r\n    ],\r\n    name: [\r\n        {\r\n            required: type.value != 2 ? true : false,\r\n            message: \"请输入菜单名称\",\r\n            trigger: \"blur\",\r\n        },\r\n    ],\r\n    menu: [\r\n        {\r\n            required: type.value == 2 ? true : false,\r\n            message: \"请选择按钮\",\r\n            trigger: \"change\",\r\n        },\r\n    ],\r\n    icon: [\r\n        {\r\n            required: type.value != 2 ? true : false,\r\n            message: \"请选择图标\",\r\n            trigger: \"change\",\r\n        },\r\n    ],\r\n\r\n    url: [\r\n        {\r\n            required: type.value == 1 ? true : false,\r\n            pattern:\r\n                /^(https?:\\/\\/)?(([a-zA-Z0-9_-])+(\\.)?)*(:\\d+)?(\\/((\\.)?(\\?)?=?&?[a-zA-Z0-9_-](\\?)?)*)*$/i,\r\n            message: \"url不正确\",\r\n            trigger: \"change\",\r\n        },\r\n    ],\r\n}));\r\n/**按钮目标菜单验证规则\r\n * @description:\r\n * @param {*} computed\r\n * @return {*}\r\n */\r\nconst toPathRule = computed(() => [\r\n    {\r\n        required: changeToPath.value,\r\n        message: \"请选择目标菜单\",\r\n        trigger: \"change\",\r\n    },\r\n    {\r\n        validator: (rule, value, callback) => {\r\n            if (value == parentId.value) {\r\n                callback(new Error(\"不可以选择当前父级菜单\"));\r\n            } else {\r\n                callback();\r\n            }\r\n        },\r\n        trigger: \"change\",\r\n    },\r\n]);\r\n\r\n/**\r\n * @description:初始化赋值\r\n * @param {*}\r\n * @return {*}\r\n */\r\nrowData.value &&\r\n    ((name.value = rowData.value.name),\r\n    (type.value = rowData.value.type),\r\n    (parentId.value = rowData.value.parentId),\r\n    (url.value = rowData.value.url),\r\n    (menu.value = rowData.value.menu),\r\n    (icon.value = rowData.value.icon),\r\n    (iframe.value = rowData.value.iframe),\r\n    (toPath.value = rowData.value.toPath),\r\n    (sort.value = rowData.value.sort));\r\n/**\r\n * @description: 类型切换事件\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst changeType = (val) => {\r\n    nextTick(() => {\r\n        formRef.value.resetFields();\r\n    });\r\n    val == 2 && (icon.value = \"\");\r\n};\r\n/**\r\n * @description: 图标下拉框展开事件\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst handelOptionsChange = (flag) => {\r\n    if (flag === true && ve_icons.value.length < 1) {\r\n        ve_icons.value = icons();\r\n    }\r\n};\r\n\r\n/**\r\n * @description: 父级id切换事件\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst cascaderChange = () => {\r\n    if (type.value == 2) {\r\n        name.value = \"\";\r\n        menu.value = \"\";\r\n        nextTick(() => {\r\n            formRef.value.clearValidate(\"menu\");\r\n        });\r\n    }\r\n};\r\n/**\r\n * @description:iframe切换事件\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst changeIframe = () => {\r\n    url.value = \"\";\r\n    nextTick(() => {\r\n        if (rowData.value && iframe.value == rowData.value.iframe) {\r\n            url.value = rowData.value.url;\r\n        }\r\n        formRef.value.clearValidate(\"url\");\r\n    });\r\n};\r\n/**\r\n * @description:切换菜单按钮触发事件\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst changeMenu = () => {\r\n    name.value = menuOptions.value[menu.value][\"name\"];\r\n    toPath.value = \"\";\r\n    nextTick(() => {\r\n        if (rowData.value && menu.value == rowData.value.menu) {\r\n            toPath.value = rowData.value.toPath;\r\n        }\r\n        formRef.value.clearValidate(\"toPath\");\r\n    });\r\n};\r\n/**\r\n * @description: 控制跳转菜单是否显示\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst changeToPath = computed(() => {\r\n    if (menuOptions.value && menu.value) {\r\n        return menuOptions.value[menu.value][\"toPath\"];\r\n    }\r\n    return false;\r\n});\r\n/**\r\n * @description: 按钮的禁用函数\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst typeItemDisabled = computed(() => (label) => {\r\n    let flag = true;\r\n    switch (title.value) {\r\n        case \"编辑\":\r\n            if (label == type.value) {\r\n                flag = false;\r\n            }\r\n            break;\r\n        case \"添加子级\":\r\n            if (label == 0 || label == 1) {\r\n                flag = false;\r\n            }\r\n            break;\r\n        case \"添加按钮\":\r\n            if (label == 2) {\r\n                flag = false;\r\n            }\r\n            break;\r\n\r\n        default:\r\n            flag = false;\r\n            break;\r\n    }\r\n    return flag;\r\n});\r\n\r\n/**\r\n * @description:获取menus列表\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst menuOptions = computed(() => {\r\n    // if (title.value == \"添加\" || title.value == \"添加按钮\") {\r\n    let _item = XE.findTree(\r\n        menuList.value,\r\n        (item) => item.id == parentId.value\r\n    );\r\n    if (_item && files.find((item) => item.url == _item.item.url)) {\r\n        return files.find((item) => item.url == _item.item.url).menus;\r\n    } else {\r\n        return false;\r\n    }\r\n    // }\r\n});\r\n/**\r\n * @description: 已添加的按钮设为禁用\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst menuDisabled = computed(() => (key) => {\r\n    let _item = XE.findTree(\r\n        menuList.value,\r\n        (item) => item.id == parentId.value\r\n    );\r\n    if (_item) {\r\n        if (rowData.value && key == rowData.value.menu) {\r\n            return false;\r\n        }\r\n        return (\r\n            _item.item.children &&\r\n            _item.item.children.find((item) => item.menu == key) &&\r\n            true\r\n        );\r\n    }\r\n});\r\n/**\r\n * @description: 监听title\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst watchTitle = () => {\r\n    if (title.value == \"添加按钮\" || title.value == \"添加子级\") {\r\n        resetForm();\r\n        parentId.value = treeFindPath(\r\n            menuList.value,\r\n            (data) => data.id === rowData.value.id\r\n        ).slice(-1)[0];\r\n        title.value == \"添加按钮\" && ((type.value = 2), (icon.value = \"\"));\r\n    }\r\n};\r\nonMounted(() => {\r\n    watchTitle();\r\n});\r\n/**\r\n * @description:提交表单\r\n * @param {*}\r\n * @return {*}\r\n */\r\nconst onSubmit = () => {\r\n    formRef.value.validate(async (valid) => {\r\n        if (valid) {\r\n            let res;\r\n            if (title.value.includes(\"添加\")) {\r\n                res = await VE_API.system.menuAdd(form);\r\n            } else {\r\n                res = await VE_API.system.menuEdit({\r\n                    id: rowData.value.id,\r\n                    ...form,\r\n                });\r\n            }\r\n            const { code } = res;\r\n            if (code == \"00\") {\r\n                closeDialog();\r\n            }\r\n        } else {\r\n            console.log(\"error submit!!\");\r\n            return false;\r\n        }\r\n    });\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}