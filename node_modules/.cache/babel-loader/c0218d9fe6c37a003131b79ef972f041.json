{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, vShow as _vShow, withKeys as _withKeys, withDirectives as _withDirectives, Transition as _Transition, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-26084dc2\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"ve_container\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"vue3-element-admin\", -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"登录\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Avatar = _resolveComponent(\"Avatar\");\n\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_Key = _resolveComponent(\"Key\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_card = _resolveComponent(\"el-card\");\n\n  return _openBlock(), _createBlock($setup[\"Common\"], null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_card, {\n      \"body-style\": {\n        background: 'rgba(0,0,0,0.15)'\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_2, _createVNode(_Transition, {\n        name: \"el-fade-in-linear\",\n        persisted: \"\"\n      }, {\n        default: _withCtx(() => [_withDirectives(_createVNode(_component_el_form, {\n          model: $setup.form,\n          rules: $setup.rules,\n          class: \"ve_form\",\n          ref: \"ref_form\",\n          inline: false,\n          onKeyup: _withKeys($setup.onSubmit, [\"enter\"])\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            prop: \"userName\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $setup.userName,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.userName = $event),\n              modelModifiers: {\n                trim: true\n              },\n              placeholder: \"用户名\"\n            }, {\n              prepend: _withCtx(() => [_createVNode(_component_el_icon, {\n                size: 20\n              }, {\n                default: _withCtx(() => [_createVNode(_component_Avatar)]),\n                _: 1\n                /* STABLE */\n\n              })]),\n              _: 1\n              /* STABLE */\n\n            }, 8\n            /* PROPS */\n            , [\"modelValue\"])]),\n            _: 1\n            /* STABLE */\n\n          }), _createVNode(_component_el_form_item, {\n            prop: \"pwd\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $setup.pwd,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.pwd = $event),\n              modelModifiers: {\n                trim: true\n              },\n              \"show-password\": \"\",\n              placeholder: \"密码\"\n            }, {\n              prepend: _withCtx(() => [_createVNode(_component_el_icon, {\n                size: 20\n              }, {\n                default: _withCtx(() => [_createVNode(_component_Key)]),\n                _: 1\n                /* STABLE */\n\n              })]),\n              _: 1\n              /* STABLE */\n\n            }, 8\n            /* PROPS */\n            , [\"modelValue\"])]),\n            _: 1\n            /* STABLE */\n\n          }), _createVNode(_component_el_form_item, null, {\n            default: _withCtx(() => [_createVNode(_component_el_button, {\n              class: \"ve_submit\",\n              type: \"primary\",\n              onClick: $setup.onSubmit\n            }, {\n              default: _withCtx(() => [_hoisted_3]),\n              _: 1\n              /* STABLE */\n\n            })]),\n            _: 1\n            /* STABLE */\n\n          })]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"model\", \"onKeyup\"]), [[_vShow, !$setup.success]])]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"body-style\"])])]),\n    _: 1\n    /* STABLE */\n\n  });\n}","map":{"version":3,"mappings":";;;;;EAEaA,KAAK,EAAC;;;gEAEHC,oBAA2B,IAA3B,EAA2B,IAA3B,EAAI,oBAAJ,EAAsB;AAAA;AAAtB;;iDAkB0E;;;;;;;;;;;;;;;;;;;uBArBtFC,aA2BSC,gBA3BT,EA2BS,IA3BT,EA2BS;sBA1BL,MAyBM,CAzBNF,oBAyBM,KAzBN,cAyBM,CAxBFG,aAuBUC,kBAvBV,EAuBU;MAvBA,cAAY;QAAAC;MAAA;IAuBZ,CAvBV,EAAwD;wBACpD,MAA2B,CAA3BC,UAA2B,EAC3BH,aAoBaI,WApBb,EAoBa;QApBDC,IAAI,EAAC,mBAoBJ;QApBbC,SAAS,EAAT;MAoBa,CApBb;0BACI,MAkBU,iBAlBVN,aAkBUO,kBAlBV,EAkBU;UAlBAC,KAAK,EAAET,WAkBP;UAlBcU,KAAK,EAAEV,YAkBrB;UAlB8CH,KAAK,EAAC,SAkBpD;UAlB8Dc,GAAG,EAAC,UAkBlE;UAlB8EC,MAAM,EAAE,KAkBtF;UAlB8FC,OAAK,YAAQb,eAAR,EAAgB,SAAhB;QAkBnG,CAlBV;4BACI,MAMe,CANfC,aAMea,uBANf,EAMe;YANDC,IAAI,EAAC;UAMJ,CANf,EAA6B;8BACzB,MAIW,CAJXd,aAIWe,mBAJX,EAIW;0BAJahB,eAIb;yEAJaA,kBAAQiB,OAIrB;8BAJD;gBAAAC;cAAA,CAIC;cAJuBC,WAAW,EAAC;YAInC,CAJX;cACeC,OAAO,WACd,MAAwC,CAAxCnB,aAAwCoB,kBAAxC,EAAwC;gBAA9BC,IAAI,EAAE;cAAwB,CAAxC,EAAkB;kCAAE,MAAU,CAAVrB,aAAUsB,iBAAV,CAAU,EAAZ;;;;cAAA,CAAlB,CAAwC,CAD1B;;;;aADtB;;YAAA,iBAIW,EALc;;;;UAAA,CAA7B,CAMe,EACftB,aAMea,uBANf,EAMe;YANDC,IAAI,EAAC;UAMJ,CANf,EAAwB;8BACpB,MAIW,CAJXd,aAIWe,mBAJX,EAIW;0BAJahB,UAIb;yEAJaA,aAAGiB,OAIhB;8BAJD;gBAAAC;cAAA,CAIC;cAJkB,mBAIlB;cAJgCC,WAAW,EAAC;YAI5C,CAJX;cACeC,OAAO,WACd,MAAqC,CAArCnB,aAAqCoB,kBAArC,EAAqC;gBAA3BC,IAAI,EAAE;cAAqB,CAArC,EAAkB;kCAAE,MAAO,CAAPrB,aAAOuB,cAAP,CAAO,EAAT;;;;cAAA,CAAlB,CAAqC,CADvB;;;;aADtB;;YAAA,iBAIW,EALS;;;;UAAA,CAAxB,CADe,EAQfvB,aAEea,uBAFf,EAEe,IAFf,EAEe;8BADX,MAA4E,CAA5Eb,aAA4EwB,oBAA5E,EAA4E;cAAjE5B,KAAK,EAAC,WAA2D;cAA/C6B,IAAI,EAAC,SAA0C;cAA/BC,OAAK,EAAE3B;YAAwB,CAA5E;gCAA8D,MAAE;;;;aAAhE,CAA4E,EACjE;;;;UAAA,CAFf,CARe;;;;SAPnB;;QAAA,oCAA+CA,iBAkBrC;;;;OAnBd,CAD2B,EADyB;;;;IAAA,CAAxD;;IAAA,iBAwBE,CAzBN,CAyBM,EACD;;;;EAAA,CA3BT","names":["class","_createElementVNode","_createBlock","$setup","_createVNode","_component_el_card","background","_hoisted_2","_Transition","name","persisted","_component_el_form","model","rules","ref","inline","onKeyup","_component_el_form_item","prop","_component_el_input","$event","trim","placeholder","prepend","_component_el_icon","size","_component_Avatar","_component_Key","_component_el_button","type","onClick"],"sourceRoot":"","sources":["C:\\Users\\Administrator\\Desktop\\vue3-element-admin-dev\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n    <common>\r\n        <div class=\"ve_container\">\r\n            <el-card :body-style=\"{ background: 'rgba(0,0,0,0.15)' }\">\r\n                <h1>vue3-element-admin</h1>\r\n                <transition name=\"el-fade-in-linear\">\r\n                    <el-form :model=\"form\" :rules=\"rules\" v-show=\"!success\" class=\"ve_form\" ref=\"ref_form\" :inline=\"false\" @keyup.enter=\"onSubmit\">\r\n                        <el-form-item prop=\"userName\">\r\n                            <el-input v-model.trim=\"userName\" placeholder=\"用户名\">\r\n                                <template #prepend>\r\n                                    <el-icon :size=\"20\"><Avatar /></el-icon>\r\n                                </template>\r\n                            </el-input>\r\n                        </el-form-item>\r\n                        <el-form-item prop=\"pwd\">\r\n                            <el-input v-model.trim=\"pwd\" show-password placeholder=\"密码\">\r\n                                <template #prepend>\r\n                                    <el-icon :size=\"20\"><Key /></el-icon>\r\n                                </template>\r\n                            </el-input>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button class=\"ve_submit\" type=\"primary\" @click=\"onSubmit\">登录</el-button>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </transition>\r\n            </el-card>\r\n        </div>\r\n    </common>\r\n</template>\r\n\r\n<script setup>\r\nimport { SET_TOKEN, SET_UNAME } from \"@/store/modules/app/type\";\r\nimport Common from \"@/components/Common\";\r\nimport { ref, reactive, toRefs, inject, computed, onMounted } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter } from \"vue-router\";\r\nconst rules = {\r\n    userName: [{ required: true, message: \"请输入用户名\", trigger: \"blur\" }],\r\n    pwd: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\r\n};\r\nconst store = useStore();\r\nconst router = useRouter();\r\nconst form = reactive({\r\n    userName: \"Administrator\",\r\n    pwd: \"123456\",\r\n});\r\nconst { userName, pwd } = toRefs(form);\r\nconst ref_form = ref(null);\r\nconst success = ref(false);\r\nsessionStorage.clear();\r\nstore.dispatch(`app/${SET_TOKEN}`, \"\");\r\nrouter.options.isAddDynamicMenuRoutes = false;\r\n\r\nconst onSubmit = () => {\r\n    ref_form.value.validate(async (valid) => {\r\n        if (valid) {\r\n            const data = await VE_API.system.login(form);\r\n            if (data.code === \"00\") {\r\n                const { token, uname } = data;\r\n                store.dispatch(`app/${SET_TOKEN}`, token);\r\n                store.dispatch(`app/${SET_UNAME}`, uname);\r\n                success.value = true;\r\n                router.push({ name: \"AppMain\" });\r\n            }\r\n        } else {\r\n            return;\r\n        }\r\n    });\r\n};\r\nconst message = inject(\"message\");\r\nconsole.log(message, \"哈哈哈\");\r\nonMounted(() => {\r\n    console.log(this.msg); // 'hello\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.ve_container {\r\n    position: absolute;\r\n    z-index: 1;\r\n    width: 400px;\r\n    top: 50%;\r\n    left: 100px;\r\n    transform: translateY(-50%);\r\n    transition: all 1s;\r\n    min-height: 273px;\r\n    text-align: center;\r\n    h1 {\r\n        font-size: 24px;\r\n        transition: all 1s;\r\n        font-weight: bold;\r\n        margin-bottom: 36px;\r\n    }\r\n    .ve_form {\r\n        .ve_submit {\r\n            width: 100%;\r\n        }\r\n        :deep(.el-input-group__prepend) {\r\n            padding: 0 10px;\r\n        }\r\n    }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}