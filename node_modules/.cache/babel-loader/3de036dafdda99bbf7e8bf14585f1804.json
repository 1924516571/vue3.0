{"ast":null,"code":"import { useCssVars as _useCssVars, unref as _unref } from 'vue';\nimport { onMounted, ref } from \"vue\";\nimport { nav_height } from \"@/styles/variables.scss.js\";\nexport default {\n  __name: 'IFrame',\n  props: {\n    url: {\n      type: String\n    }\n  },\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const props = __props;\n\n    _useCssVars(_ctx => ({\n      \"314c7984-nav_height\": _unref(nav_height)\n    }));\n\n    const load = ref(true);\n    const iframe = ref(null);\n\n    const setLoad = () => {\n      const $onLoad = () => {\n        load.value = false;\n      };\n\n      if (iframe.value.attachEvent) {\n        iframe.value.attachEvent(\"onload\", $onLoad);\n      } else {\n        iframe.value.onload = $onLoad;\n      }\n    };\n\n    onMounted(() => {\n      setLoad();\n    });\n    const __returned__ = {\n      props,\n      load,\n      iframe,\n      setLoad,\n      onMounted,\n      ref,\n      nav_height\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":";AAOA,SAASA,SAAT,EAAoBC,GAApB,QAA+B,KAA/B;AACA,SAASC,UAAT,QAA2B,4BAA3B;;;;;;;;;;;;;;;;;;;IAKA,MAAMC,IAAI,GAAGF,GAAG,CAAC,IAAD,CAAhB;IACA,MAAMG,MAAM,GAAGH,GAAG,CAAC,IAAD,CAAlB;;IAEA,MAAMI,OAAO,GAAG,MAAM;MAClB,MAAMC,OAAO,GAAG,MAAM;QAClBH,IAAI,CAACI,KAAL,GAAa,KAAb;MACH,CAFD;;MAGA,IAAIH,MAAM,CAACG,KAAP,CAAaC,WAAjB,EAA8B;QAC1BJ,MAAM,CAACG,KAAP,CAAaC,WAAb,CAAyB,QAAzB,EAAmCF,OAAnC;MACH,CAFD,MAEO;QACHF,MAAM,CAACG,KAAP,CAAaE,MAAb,GAAsBH,OAAtB;MACH;IACJ,CATD;;IAWAN,SAAS,CAAC,MAAM;MACZK,OAAO;IACV,CAFQ,CAAT","names":["onMounted","ref","nav_height","load","iframe","setLoad","$onLoad","value","attachEvent","onload"],"sources":["C:/Users/Administrator/Desktop/vue3-element-admin-dev/src/views/IFrame.vue"],"sourcesContent":["<template>\r\n    <div v-loading=\"load\" element-loading-text=\"拼命加载中\" element-loading-spinner=\"el-icon-loading\">\r\n        <iframe ref=\"iframe\" :src=\"props.url\" frameborder=\"0\"></iframe>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref } from \"vue\";\r\nimport { nav_height } from \"@/styles/variables.scss.js\";\r\n\r\nconst props = defineProps({\r\n    url: { type: String },\r\n});\r\nconst load = ref(true);\r\nconst iframe = ref(null);\r\n\r\nconst setLoad = () => {\r\n    const $onLoad = () => {\r\n        load.value = false;\r\n    };\r\n    if (iframe.value.attachEvent) {\r\n        iframe.value.attachEvent(\"onload\", $onLoad);\r\n    } else {\r\n        iframe.value.onload = $onLoad;\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    setLoad();\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\niframe {\r\n    width: 100%;\r\n    height: calc(100vh - v-bind(nav_height) - 83px);\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}