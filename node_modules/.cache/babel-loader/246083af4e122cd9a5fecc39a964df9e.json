{"ast":null,"code":"import { TOGGLE_SLIDER, SET_TOKEN, SET_UNAME, SET_MENU_LIST, SET_PERMISSION_LIST } from \"./type.js\";\nexport default {\n  namespaced: true,\n  state: {\n    slider: {\n      opened: JSON.parse(sessionStorage.getItem(\"opened\"))\n    },\n    token: sessionStorage.getItem(\"token\") || \"\",\n    menuList: null,\n    permissionList: [],\n    uname: sessionStorage.getItem(\"uname\") || \"\"\n  },\n  mutations: {\n    [TOGGLE_SLIDER](state) {\n      state.slider.opened = !state.slider.opened;\n      sessionStorage.setItem(\"opened\", JSON.stringify(state.slider.opened));\n    },\n\n    [SET_TOKEN](state, token) {\n      state.token = token;\n      sessionStorage.setItem(\"token\", state.token);\n    },\n\n    [SET_UNAME](state, uname) {\n      state.uname = uname;\n      sessionStorage.setItem(\"uname\", state.uname);\n    },\n\n    [SET_MENU_LIST](state, menuList) {\n      state.menuList = menuList;\n    },\n\n    [SET_PERMISSION_LIST](state, permissionList) {\n      state.permissionList = permissionList;\n    }\n\n  },\n  actions: {\n    [TOGGLE_SLIDER]({\n      commit\n    }) {\n      console.log(commit, \"222\");\n      commit(TOGGLE_SLIDER);\n    },\n\n    [SET_TOKEN]({\n      commit\n    }, token) {\n      commit(SET_TOKEN, token);\n    },\n\n    [SET_UNAME]({\n      commit\n    }, uname) {\n      commit(SET_UNAME, uname);\n    },\n\n    [SET_MENU_LIST]({\n      commit\n    }, menuList) {\n      commit(SET_MENU_LIST, menuList);\n    },\n\n    [SET_PERMISSION_LIST]({\n      commit\n    }, menuList) {\n      let allMenus = XE.filterTree(menuList, item => item.type == 1);\n      let permissionList = [];\n      allMenus.forEach(item => {\n        if (item.children && item.children.length > 0) {\n          item.children.forEach(menu => {\n            permissionList.push(`${item.url}/${item.id}/${menu.menu}`);\n          });\n        }\n      });\n      commit(SET_PERMISSION_LIST, permissionList);\n    }\n\n  }\n};","map":{"version":3,"names":["TOGGLE_SLIDER","SET_TOKEN","SET_UNAME","SET_MENU_LIST","SET_PERMISSION_LIST","namespaced","state","slider","opened","JSON","parse","sessionStorage","getItem","token","menuList","permissionList","uname","mutations","setItem","stringify","actions","commit","console","log","allMenus","XE","filterTree","item","type","forEach","children","length","menu","push","url","id"],"sources":["C:/Users/Administrator/Desktop/vue3-element-admin-dev/src/store/modules/app/index.js"],"sourcesContent":["import { TOGGLE_SLIDER, SET_TOKEN, SET_UNAME, SET_MENU_LIST, SET_PERMISSION_LIST } from \"./type.js\";\nexport default {\n    namespaced: true,\n    state: {\n        slider: {\n            opened: JSON.parse(sessionStorage.getItem(\"opened\")),\n        },\n        token: sessionStorage.getItem(\"token\") || \"\",\n        menuList: null,\n        permissionList: [],\n        uname: sessionStorage.getItem(\"uname\") || \"\",\n    },\n    mutations: {\n        [TOGGLE_SLIDER](state) {\n            state.slider.opened = !state.slider.opened;\n            sessionStorage.setItem(\"opened\", JSON.stringify(state.slider.opened));\n        },\n        [SET_TOKEN](state, token) {\n            state.token = token;\n            sessionStorage.setItem(\"token\", state.token);\n        },\n        [SET_UNAME](state, uname) {\n            state.uname = uname;\n            sessionStorage.setItem(\"uname\", state.uname);\n        },\n        [SET_MENU_LIST](state, menuList) {\n            state.menuList = menuList;\n        },\n        [SET_PERMISSION_LIST](state, permissionList) {\n            state.permissionList = permissionList;\n        },\n    },\n    actions: {\n        [TOGGLE_SLIDER]({ commit }) {\n            console.log(commit, \"222\");\n            commit(TOGGLE_SLIDER);\n        },\n        [SET_TOKEN]({ commit }, token) {\n            commit(SET_TOKEN, token);\n        },\n        [SET_UNAME]({ commit }, uname) {\n            commit(SET_UNAME, uname);\n        },\n        [SET_MENU_LIST]({ commit }, menuList) {\n            commit(SET_MENU_LIST, menuList);\n        },\n        [SET_PERMISSION_LIST]({ commit }, menuList) {\n            let allMenus = XE.filterTree(menuList, (item) => item.type == 1);\n            let permissionList = [];\n            allMenus.forEach((item) => {\n                if (item.children && item.children.length > 0) {\n                    item.children.forEach((menu) => {\n                        permissionList.push(`${item.url}/${item.id}/${menu.menu}`);\n                    });\n                }\n            });\n            commit(SET_PERMISSION_LIST, permissionList);\n        },\n    },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}