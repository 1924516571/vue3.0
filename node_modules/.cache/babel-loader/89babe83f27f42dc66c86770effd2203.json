{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-26084dc2\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"ve_container\"\n}, [/*#__PURE__*/_createCommentVNode(\" <el-card :body-style=\\\"{ background: 'rgba(0,0,0,0.15)' }\\\">\\r\\n                <h1>vue3-element-admin</h1>\\r\\n                <transition name=\\\"el-fade-in-linear\\\">\\r\\n                    <el-form :model=\\\"form\\\" :rules=\\\"rules\\\" v-show=\\\"!success\\\" class=\\\"ve_form\\\" ref=\\\"ref_form\\\" :inline=\\\"false\\\" @keyup.enter=\\\"onSubmit\\\">\\r\\n                        <el-form-item prop=\\\"userName\\\">\\r\\n                            <el-input v-model.trim=\\\"userName\\\" placeholder=\\\"用户名\\\">\\r\\n                                <template #prepend>\\r\\n                                    <el-icon :size=\\\"20\\\"><Avatar /></el-icon>\\r\\n                                </template>\\r\\n                            </el-input>\\r\\n                        </el-form-item>\\r\\n                        <el-form-item prop=\\\"pwd\\\">\\r\\n                            <el-input v-model.trim=\\\"pwd\\\" show-password placeholder=\\\"密码\\\">\\r\\n                                <template #prepend>\\r\\n                                    <el-icon :size=\\\"20\\\"><Key /></el-icon>\\r\\n                                </template>\\r\\n                            </el-input>\\r\\n                        </el-form-item>\\r\\n                        <el-form-item>\\r\\n                            <el-button class=\\\"ve_submit\\\" type=\\\"primary\\\" @click=\\\"onSubmit\\\">登录</el-button>\\r\\n                        </el-form-item>\\r\\n                    </el-form>\\r\\n                </transition>\\r\\n            </el-card> \")], -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"Common\"], null, {\n    default: _withCtx(() => [_hoisted_1]),\n    _: 1\n    /* STABLE */\n\n  });\n}","map":{"version":3,"mappings":";;;;gEAEQA,oBAyBM,KAzBN,EAyBM;EAzBDC,KAAK,EAAC;AAyBL,CAzBN,EAAyB,cACrBC,48CADqB,CAAzB;;AAAA;;;uBADJC,aA2BSC,gBA3BT,EA2BS,IA3BT,EA2BS;sBA1BL,MAyBM,CAzBNC,UAyBM,EACD;;;;EAAA,CA3BT","names":["_createElementVNode","class","_createCommentVNode","_createBlock","$setup","_hoisted_1"],"sourceRoot":"","sources":["C:\\Users\\Administrator\\Desktop\\vue3-element-admin-dev\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n    <common>\r\n        <div class=\"ve_container\">\r\n            <!-- <el-card :body-style=\"{ background: 'rgba(0,0,0,0.15)' }\">\r\n                <h1>vue3-element-admin</h1>\r\n                <transition name=\"el-fade-in-linear\">\r\n                    <el-form :model=\"form\" :rules=\"rules\" v-show=\"!success\" class=\"ve_form\" ref=\"ref_form\" :inline=\"false\" @keyup.enter=\"onSubmit\">\r\n                        <el-form-item prop=\"userName\">\r\n                            <el-input v-model.trim=\"userName\" placeholder=\"用户名\">\r\n                                <template #prepend>\r\n                                    <el-icon :size=\"20\"><Avatar /></el-icon>\r\n                                </template>\r\n                            </el-input>\r\n                        </el-form-item>\r\n                        <el-form-item prop=\"pwd\">\r\n                            <el-input v-model.trim=\"pwd\" show-password placeholder=\"密码\">\r\n                                <template #prepend>\r\n                                    <el-icon :size=\"20\"><Key /></el-icon>\r\n                                </template>\r\n                            </el-input>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button class=\"ve_submit\" type=\"primary\" @click=\"onSubmit\">登录</el-button>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </transition>\r\n            </el-card> -->\r\n        </div>\r\n    </common>\r\n</template>\r\n\r\n<script setup>\r\nimport { SET_TOKEN, SET_UNAME } from \"@/store/modules/app/type\";\r\nimport Common from \"@/components/Common\";\r\nimport { ref, reactive, toRefs } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter } from \"vue-router\";\r\nconst rules = {\r\n    userName: [{ required: true, message: \"请输入用户名\", trigger: \"blur\" }],\r\n    pwd: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\r\n};\r\nconst store = useStore();\r\nconst router = useRouter();\r\nconst form = reactive({\r\n    userName: \"Administrator\",\r\n    pwd: \"123456\",\r\n});\r\nconst { userName, pwd } = toRefs(form);\r\nconst ref_form = ref(null);\r\nconst success = ref(false);\r\nsessionStorage.clear();\r\nstore.dispatch(`app/${SET_TOKEN}`, \"\");\r\nrouter.options.isAddDynamicMenuRoutes = false;\r\n\r\nconst onSubmit = () => {\r\n    ref_form.value.validate(async (valid) => {\r\n        if (valid) {\r\n            const data = await VE_API.system.login(form);\r\n            if (data.code === \"00\") {\r\n                const { token, uname } = data;\r\n                store.dispatch(`app/${SET_TOKEN}`, token);\r\n                store.dispatch(`app/${SET_UNAME}`, uname);\r\n                success.value = true;\r\n                router.push({ name: \"AppMain\" });\r\n            }\r\n        } else {\r\n            return;\r\n        }\r\n    });\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.ve_container {\r\n    position: absolute;\r\n    z-index: 1;\r\n    width: 400px;\r\n    top: 50%;\r\n    left: 100px;\r\n    transform: translateY(-50%);\r\n    transition: all 1s;\r\n    min-height: 273px;\r\n    text-align: center;\r\n    h1 {\r\n        font-size: 24px;\r\n        transition: all 1s;\r\n        font-weight: bold;\r\n        margin-bottom: 36px;\r\n    }\r\n    .ve_form {\r\n        .ve_submit {\r\n            width: 100%;\r\n        }\r\n        :deep(.el-input-group__prepend) {\r\n            padding: 0 10px;\r\n        }\r\n    }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}